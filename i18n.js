// 多语言配置文件
const translations = {
  en: {
    nav: {
      home: "Home",
      shortDrama: "Short Drama",
      tools: "Tools",
      entertainment: "Entertainment",
      blog: "Blog",
      privacy: "Privacy Policy",
      copyright: "Copyright",
      disclaimer: "Disclaimer",
      about: "About",
      contact: "Contact"
    },
    home: {
      hotRecommend: "Hot Recommendations",
      more: "More"
    },
    shortDrama: {
      newDrama: "New Dramas",
      fantasy: "Fantasy",
      urban: "Urban",
      action: "Action",
      coolDrama: "Cool Dramas",
      translated: "Translated Dramas",
      ranking: "Hot Ranking"
    },
    tools: {
      aiTools: "AI Tools",
      efficiency: "Efficiency Tools",
      editing: "Editing Tools",
      freeTools: "Free Tools",
      shopping: "Shopping Navigation"
    },
    entertainment: {
      commentary: "Hot Commentary",
      news: "Entertainment News",
      science: "Science & Life",
      variety: "Variety Shows",
      ranking: "Hot Ranking",
      download: "Download (Dual Line)"
    },
    blog: {
      article: "Articles"
    },
    common: {
      description: "Description",
      view: "View Details",
      download: "Download"
    }
  },
  zh: {
    nav: {
      home: "首页",
      shortDrama: "短剧",
      tools: "工具",
      entertainment: "娱乐",
      blog: "博客",
      privacy: "隐私政策",
      copyright: "版权声明",
      disclaimer: "免责声明",
      about: "关于我们",
      contact: "联系方式"
    },
    home: {
      hotRecommend: "热门推荐",
      more: "查看更多"
    },
    shortDrama: {
      newDrama: "新剧",
      fantasy: "魔幻",
      urban: "都市",
      action: "动作",
      coolDrama: "爽剧",
      translated: "翻译剧",
      ranking: "热门排行"
    },
    tools: {
      aiTools: "AI 工具",
      efficiency: "效率工具",
      editing: "剪辑工具",
      freeTools: "免费工具",
      shopping: "购物导航"
    },
    entertainment: {
      commentary: "热门解说",
      news: "娱乐资讯",
      science: "科普生活",
      variety: "综艺分享",
      ranking: "热门排行",
      download: "下载 (双线路)"
    },
    blog: {
      article: "文章"
    },
    common: {
      description: "简介",
      view: "查看详情",
      download: "下载"
    }
  },
  de: {
    nav: {
      home: "Startseite",
      shortDrama: "Kurzdrama",
      tools: "Werkzeuge",
      entertainment: "Unterhaltung",
      blog: "Blog",
      privacy: "Datenschutzrichtlinie",
      copyright: "Urheberrecht",
      disclaimer: "Haftungsausschluss",
      about: "Über uns",
      contact: "Kontakt"
    },
    home: {
      hotRecommend: "Beliebte Empfehlungen",
      more: "Mehr anzeigen"
    },
    shortDrama: {
      newDrama: "Neue Dramen",
      fantasy: "Fantasie",
      urban: "Städtisch",
      action: "Aktion",
      coolDrama: "Cooles Drama",
      translated: "Übersetzte Dramen",
      ranking: "Beliebte Rangliste"
    },
    tools: {
      aiTools: "KI-Werkzeuge",
      efficiency: "Effizienzwerkzeuge",
      editing: "Bearbeitungswerkzeuge",
      freeTools: "Kostenlose Werkzeuge",
      shopping: "Einkaufsnavigation"
    },
    entertainment: {
      commentary: "Beliebte Kommentare",
      news: "Unterhaltungsnachrichten",
      science: "Wissenschaft & Leben",
      variety: "Varieté-Shows",
      ranking: "Beliebte Rangliste",
      download: "Herunterladen (Doppelleitung)"
    },
    blog: {
      article: "Artikel"
    },
    common: {
      description: "Beschreibung",
      view: "Details anzeigen",
      download: "Herunterladen"
    }
  },
  fr: {
    nav: {
      home: "Accueil",
      shortDrama: "Court Métrage",
      tools: "Outils",
      entertainment: "Divertissement",
      blog: "Blog",
      privacy: "Politique de Confidentialité",
      copyright: "Droit d'Auteur",
      disclaimer: "Avertissement",
      about: "À Propos",
      contact: "Contact"
    },
    home: {
      hotRecommend: "Recommandations Populaires",
      more: "Voir Plus"
    },
    shortDrama: {
      newDrama: "Nouveaux Dramas",
      fantasy: "Fantaisie",
      Urbain: "Urbain",
      action: "Action",
      coolDrama: "Dramas Cool",
      translated: "Dramas Traduits",
      ranking: "Classement Populaire"
    },
    tools: {
      aiTools: "Outils IA",
      efficiency: "Outils d'Efficacité",
      editing: "Outils de Montage",
      freeTools: "Outils Gratuits",
      shopping: "Navigation d'Achat"
    },
    entertainment: {
      commentary: "Commentaires Populaires",
      news: "Actualités de Divertissement",
      science: "Science & Vie",
      variety: "Émissions de Variété",
      ranking: "Classement Populaire",
      download: "Télécharger (Double Ligne)"
    },
    blog: {
      article: "Articles"
    },
    common: {
      description: "Description",
      view: "Voir les Détails",
      download: "Télécharger"
    }
  },
  ar: {
    nav: {
      home: "الرئيسية",
      shortDrama: "المسرحية القصيرة",
      tools: "الأدوات",
      entertainment: "الترفيه",
      blog: "المدونة",
      privacy: "سياسة الخصوصية",
      copyright: "حقوق النشر",
      disclaimer: "إخلاء المسؤولية",
      about: "من نحن",
      contact: "اتصل بنا"
    },
    home: {
      hotRecommend: "التوصيات الشائعة",
      more: "عرض المزيد"
    },
    shortDrama: {
      newDrama: "المسرحيات الجديدة",
      fantasy: "خيال",
      urban: "حضري",
      action: "إجراء",
      coolDrama: "المسرحيات الرائعة",
      translated: "المسرحيات المترجمة",
      ranking: "التصنيف الشائع"
    },
    tools: {
      aiTools: "أدوات الذكاء الاصطناعي",
      efficiency: "أدوات الكفاءة",
      editing: "أدوات التحرير",
      freeTools: "أدوات مجانية",
      shopping: "ملاحة التسوق"
    },
    entertainment: {
      commentary: "التعليقات الشائعة",
      news: "أخبار الترفيه",
      science: "العلوم والحياة",
      variety: "مشاركة البرامج المتنوعة",
      ranking: "التصنيف الشائع",
      download: "تنزيل (خط مزدوج)"
    },
    blog: {
      article: "مقالات"
    },
    common: {
      description: "وصف",
      view: "عرض التفاصيل",
      download: "تنزيل"
    }
  },
  ja: {
    nav: {
      home: "ホーム",
      shortDrama: "ショートドラマ",
      tools: "ツール",
      entertainment: "エンターテイメント",
      blog: "ブログ",
      privacy: "プライバシーポリシー",
      copyright: "著作権",
      disclaimer: "免責事項",
      about: "会社概要",
      contact: "お問い合わせ"
    },
    home: {
      hotRecommend: "人気のおすすめ",
      more: "もっと見る"
    },
    shortDrama: {
      newDrama: "新しいドラマ",
      fantasy: "ファンタジー",
      urban: "都市的",
      action: "アクション",
      coolDrama: "クールなドラマ",
      translated: "翻訳されたドラマ",
      ranking: "人気ランキング"
    },
    tools: {
      aiTools: "AIツール",
      efficiency: "効率ツール",
      editing: "編集ツール",
      freeTools: "無料ツール",
      shopping: "ショッピングナビゲーション"
    },
    entertainment: {
      commentary: "人気の解説",
      news: "エンターテイメントニュース",
      science: "科学と生活",
      variety: "バラエティーショーの共有",
      ranking: "人気ランキング",
      download: "ダウンロード（デュアルライン）"
    },
    blog: {
      article: "記事"
    },
    common: {
      description: "説明",
      view: "詳細を見る",
      download: "ダウンロード"
    }
  }
};

// 设置当前语言
let currentLang = "en";

// 初始化语言
function initLanguage() {
  // 从本地存储获取语言，没有则用默认
  currentLang = localStorage.getItem("lang") || "en";
  document.getElementById("language-select").value = currentLang;
  updateContent();
}

// 更新页面内容为当前语言
function updateContent() {
  // 替换所有带data-i18n属性的元素
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    const keys = key.split(".");
    let value = translations[currentLang];
    keys.forEach(k => {
      value = value[k];
    });
    el.textContent = value;
  });
  // 调整RTL语言（阿拉伯语）的布局
  if (currentLang === "ar") {
    document.documentElement.setAttribute("dir", "rtl");
    document.documentElement.classList.add("rtl");
  } else {
    document.documentElement.setAttribute("dir", "ltr");
    document.documentElement.classList.remove("rtl");
  }
}

// 切换语言
function changeLang(lang) {
  localStorage.setItem("lang", lang);
  currentLang = lang;
  updateContent();
}

// 页面加载时初始化
document.addEventListener("DOMContentLoaded", initLanguage);